import{d as Ge,r as g,c as U,_ as ve,e as d,f as i,x as M,m as l,j as s,q as y,z as S,g as c,p as I,l as D,G as Ye,H as Je,w as ke,o as Ve,F as q,y as se,A as Ke,B as Qe,u as Xe,I as Ze,k as Ee,C as et}from"./index-b8d30765.js";import{u as Ie}from"./exercises-a2ad682e.js";import{u as fe}from"./categories-b55ea028.js";import{u as pe}from"./tags-ab17ae30.js";import{u as tt}from"./sessions-8c0d57dd.js";import{h as te}from"./api-f0127578.js";/* empty css                                                                     *//* empty css                                                                */const st=Ge("history",()=>{const a=g([]),V=g(!1),_=g(null),x=g(null),A=g(!1),P=U(()=>[...a.value].sort((o,r)=>new Date(r.start_time)-new Date(o.start_time))),T=U(()=>o=>a.value.filter(r=>r.exercise_id===o)),B=U(()=>o=>a.value.filter(r=>r.session_id===o)),b=U(()=>(o,r)=>{const p=o?new Date(o):null,f=r?new Date(r):null;return a.value.filter(C=>{const h=new Date(C.start_time);return p&&f?h>=p&&h<=f:p?h>=p:f?h<=f:!0})});async function k(o={}){V.value=!0,_.value=null;try{const r=await te.getAll(o);a.value=r.data.history_entries||[]}catch(r){_.value=r.message||"Failed to fetch history entries",console.error("Error fetching history entries:",r)}finally{V.value=!1}}async function F(o){A.value=!0,_.value=null;try{const r=await te.get(o);x.value=r.data;const p=a.value.findIndex(f=>f.id===o);p!==-1?a.value[p]=r.data:a.value.push(r.data)}catch(r){_.value=r.message||`Failed to fetch history entry with ID ${o}`,console.error(`Error fetching history entry ${o}:`,r)}finally{A.value=!1}}async function $(o){V.value=!0,_.value=null;try{const p=(await te.create(o)).data;return a.value.push(p),p}catch(r){throw _.value=r.message||"Failed to create history entry",console.error("Error creating history entry:",r),r}finally{V.value=!1}}async function E(o,r,p){V.value=!0,_.value=null;try{let f=p;p&&typeof p=="object"&&p.paths&&(f=p.paths.join(","));const h=(await te.update(o,r,f)).data,H=a.value.findIndex(z=>z.id===o);return H!==-1&&(a.value[H]=h),x.value&&x.value.id===o&&(x.value=h),h}catch(f){throw _.value=f.message||`Failed to update history entry with ID ${o}`,console.error(`Error updating history entry ${o}:`,f),f}finally{V.value=!1}}async function L(o){V.value=!0,_.value=null;try{await te.delete(o),a.value=a.value.filter(r=>r.id!==o),x.value&&x.value.id===o&&(x.value=null)}catch(r){throw _.value=r.message||`Failed to delete history entry with ID ${o}`,console.error(`Error deleting history entry ${o}:`,r),r}finally{V.value=!1}}function m(o){const r=T.value(o);if(!r.length)return[];const p=[...r].sort((C,h)=>new Date(C.start_time)-new Date(h.start_time)),f={};return p.forEach(C=>{const h=new Date(C.start_time).toISOString().split("T")[0];(!f[h]||C.bpm>f[h])&&(f[h]=C.bpm)}),Object.entries(f).map(([C,h])=>({date:C,bpm:h}))}return{historyEntries:a,loading:V,error:_,currentHistoryEntry:x,currentHistoryLoading:A,entriesSortedByDate:P,entriesByExercise:T,entriesBySession:B,entriesByDateRange:b,fetchHistoryEntries:k,fetchHistoryEntry:F,createHistoryEntry:$,updateHistoryEntry:E,deleteHistoryEntry:L,calculateBpmProgress:m}});const lt={key:0,class:"text-body-2 mb-2"},at={key:1,class:"mb-2"},nt={class:"text-caption text-grey"},ot={key:2},it={class:"text-caption text-grey"},rt={__name:"ExerciseCard",props:{exercise:{type:Object,required:!0},to:{type:[String,Object],default:null},flat:{type:Boolean,default:!1},variant:{type:String,default:"elevated"},showCategories:{type:Boolean,default:!0},showTags:{type:Boolean,default:!0},selected:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1}},emits:["click"],setup(a,{emit:V}){const _=a,x=V,A=U(()=>_.to?_.to:_.exercise&&_.exercise.id?{name:"exercise-detail",params:{id:_.exercise.id}}:null);fe(),pe();function P(B,b){return B?B.length>b?B.substring(0,b)+"...":B:""}function T(){x("click",_.exercise)}return(B,b)=>{const k=d("v-card-title"),F=d("v-card-text"),$=d("v-spacer"),E=d("v-btn"),L=d("v-card-actions"),m=d("v-card");return i(),M(m,{class:Je(["exercise-card",{"selected-exercise":a.selected}]),to:a.selectable?void 0:A.value,flat:a.flat,variant:a.variant,onClick:T},{default:l(()=>[s(k,{class:"text-subtitle-1"},{default:l(()=>[y(S(a.exercise.name),1)]),_:1}),s(F,null,{default:l(()=>[a.exercise.description?(i(),c("p",lt,S(P(a.exercise.description,100)),1)):I("v-if",!0),a.showCategories&&a.exercise.categoryIds&&a.exercise.categoryIds.length>0?(i(),c("div",at,[D("span",nt,S(a.exercise.categoryIds.length)+" "+S(a.exercise.categoryIds.length===1?"category":"categories"),1)])):I("v-if",!0),a.showTags&&a.exercise.tagIds&&a.exercise.tagIds.length>0?(i(),c("div",ot,[D("span",it,S(a.exercise.tagIds.length)+" "+S(a.exercise.tagIds.length===1?"tag":"tags"),1)])):I("v-if",!0)]),_:1}),Ye(B.$slots,"actions",{},()=>[a.selectable?(i(),M(L,{key:0},{default:l(()=>[s($),s(E,{variant:"text",color:a.selected?"error":"primary",size:"small"},{default:l(()=>[y(S(a.selected?"Remove":"Add"),1)]),_:1},8,["color"])]),_:1})):I("v-if",!0)],!0)]),_:3},8,["to","flat","variant","class"])}}},dt=ve(rt,[["__scopeId","data-v-acb38d76"],["__file","/Users/zachjohnson/w/repos/tempus/frontend/src/components/exercises/ExerciseCard.vue"]]);const ut={class:"exercise-list"},ct={key:0,class:"d-flex align-center"},mt={key:1,class:"text-body-2 text-grey"},vt={key:2},ft={key:0,class:"exercise-table-container"},pt={key:0},gt={key:1,class:"text-grey"},yt={key:0,class:"text-caption"},_t={key:0,class:"text-caption"},ht={key:1,class:"exercise-list-container"},xt={key:2,class:"exercise-grid-container"},bt={key:3,class:"pagination-container mt-4"},St={__name:"ExerciseList",props:{exercises:{type:Array,default:()=>[]},categoryId:{type:[Number,String],default:null},tagId:{type:[Number,String],default:null},loading:{type:Boolean,default:!1},displayType:{type:String,default:"table",validator:a=>["table","list","grid"].includes(a)},noExercisesMessage:{type:String,default:"No exercises available"},showPagination:{type:Boolean,default:!1},totalCount:{type:Number,default:0},itemsPerPage:{type:Number,default:10},page:{type:Number,default:1},selectable:{type:Boolean,default:!1},allowSelect:{type:Boolean,default:!1},selectedExerciseIds:{type:Array,default:()=>[]}},emits:["update:page","select-exercise"],setup(a,{emit:V}){const _=a,x=V;Ie();const A=fe(),P=pe(),T=g(_.page),B=[{title:"Name",key:"name"},{title:"Description",key:"description"},{title:"Categories",key:"categories"},{title:"Tags",key:"tags"},{title:"Actions",key:"actions",sortable:!1,align:"end"}];ke(T,m=>{x("update:page",m)}),ke(()=>_.page,m=>{T.value=m});function b(m,o){return m?m.length>o?m.substring(0,o)+"...":m:""}function k(m){return A.categoryById(m)}function F(m){return P.tagById(m)}function $(m){x("select-exercise",m)}function E(m){return _.selectedExerciseIds.includes(m.id)}function L(m){_.allowSelect&&$(m)}return Ve(async()=>{A.categories.length===0&&await A.fetchCategories(),P.tags.length===0&&await P.fetchTags()}),(m,o)=>{const r=d("v-progress-circular"),p=d("v-chip-group"),f=d("v-icon"),C=d("v-btn"),h=d("v-data-table"),H=d("v-avatar"),z=d("v-list-item-title"),W=d("v-list-item-subtitle"),G=d("v-list-item"),Y=d("v-list"),J=d("v-col"),K=d("v-row"),ne=d("v-pagination");return i(),c("div",ut,[a.loading?(i(),c("div",ct,[s(r,{indeterminate:"",size:"20",width:"2",color:"primary",class:"mr-2"}),o[1]||(o[1]=D("span",{class:"text-body-2"},"Loading exercises...",-1))])):!a.exercises||a.exercises.length===0?(i(),c("div",mt,S(a.noExercisesMessage),1)):(i(),c("div",vt,[a.displayType==="table"?(i(),c("div",ft,[s(h,{headers:B,items:a.exercises,"items-per-page":a.itemsPerPage,density:"compact",class:"elevation-1"},{"item.description":l(({item:v})=>[v.description?(i(),c("span",pt,S(b(v.description,80)),1)):(i(),c("span",gt,"No description"))]),"item.categories":l(({item:v})=>[s(p,null,{default:l(()=>[(i(!0),c(q,null,se(v.categoryIds||[],N=>(i(),c(q,{key:N},[k(N)?(i(),c("span",yt,S(k(N).name),1)):I("v-if",!0)],64))),128))]),_:2},1024)]),"item.tags":l(({item:v})=>[s(p,null,{default:l(()=>[(i(!0),c(q,null,se(v.tagIds||[],N=>(i(),c(q,{key:N},[F(N)?(i(),c("span",_t,S(F(N).name),1)):I("v-if",!0)],64))),128))]),_:2},1024)]),"item.actions":l(({item:v})=>[s(C,{icon:"",variant:"text",size:"small",color:"primary",to:a.allowSelect?void 0:{name:"exercise-detail",params:{id:v.id}},class:"mr-1",onClick:N=>a.allowSelect?$(v):void 0},{default:l(()=>[s(f,null,{default:l(()=>[y(S(a.allowSelect?"mdi-plus":"mdi-eye"),1)]),_:1})]),_:2},1032,["to","onClick"]),a.allowSelect?(i(),M(C,{key:0,icon:"",variant:"text",size:"small",color:"primary",onClick:N=>$(v)},{default:l(()=>[s(f,null,{default:l(()=>o[2]||(o[2]=[y("mdi-plus")])),_:1})]),_:2},1032,["onClick"])):I("v-if",!0)]),_:1},8,["items","items-per-page"])])):a.displayType==="list"?(i(),c("div",ht,[s(Y,{density:"compact"},{default:l(()=>[(i(!0),c(q,null,se(a.exercises,v=>(i(),M(G,{key:v.id,to:a.allowSelect?void 0:{name:"exercise-detail",params:{id:v.id}},onClick:N=>a.allowSelect?$(v):void 0},{prepend:l(()=>[s(H,{size:"32",color:"primary",class:"text-white"},{default:l(()=>[y(S(v.name.charAt(0).toUpperCase()),1)]),_:2},1024)]),default:l(()=>[s(z,null,{default:l(()=>[y(S(v.name),1)]),_:2},1024),v.description?(i(),M(W,{key:0},{default:l(()=>[y(S(b(v.description,60)),1)]),_:2},1024)):I("v-if",!0)]),_:2},1032,["to","onClick"]))),128))]),_:1})])):(i(),c("div",xt,[s(K,null,{default:l(()=>[(i(!0),c(q,null,se(a.exercises,v=>(i(),M(J,{key:v.id,cols:"12",sm:"6",md:"4",lg:"3"},{default:l(()=>[s(dt,{exercise:v,to:a.allowSelect?void 0:{name:"exercise-detail",params:{id:v.id}},variant:"outlined",onClick:N=>L(v),selected:E(v),selectable:a.allowSelect},null,8,["exercise","to","onClick","selected","selectable"])]),_:2},1024))),128))]),_:1})])),a.showPagination&&a.totalCount>a.itemsPerPage?(i(),c("div",bt,[s(ne,{modelValue:T.value,"onUpdate:modelValue":o[0]||(o[0]=v=>T.value=v),length:Math.ceil(a.totalCount/a.itemsPerPage),"total-visible":7},null,8,["modelValue","length"])])):I("v-if",!0)]))])}}},Ce=ve(St,[["__scopeId","data-v-ad61df0f"],["__file","/Users/zachjohnson/w/repos/tempus/frontend/src/components/exercises/ExerciseList.vue"]]);const wt={class:"text-subtitle-1 font-weight-medium mb-1"},kt={key:0,class:"font-weight-regular"},Et={key:1,class:"font-weight-regular text-grey"},Ct={class:"text-subtitle-1 font-weight-medium mb-1"},Vt={key:0,class:"font-weight-regular"},It={key:1,class:"font-weight-regular text-grey"},$t={key:1,class:"text-center pa-4"},Dt={key:2},At={class:"d-flex align-center"},Tt={key:0,class:"ml-2 text-caption"},Bt={class:"d-flex justify-end mt-2"},Ft={class:"text-body-2 mt-4"},Nt={__name:"NewSessionView",setup(a){const V=Ke(),_=Qe(),x=Ie(),A=fe(),P=pe(),T=tt(),B=st(),b=Xe(),k=g(!1),F=g(null),$=g(""),E=g([]),L=g(!1),m=g(!1),o=g(!1),r=g("0:00:00"),p=g(null),f=g(null),C=g(!1),h=g(""),H=g(null),z=g(null),W=g(""),G=g(null),Y=g(null),J=g(!1),K=g(!1),ne=g(null),v=g(!0),N=["4/4","3/4","2/4","6/8","7/8","5/4","9/8","12/8"],ge=U(()=>E.value.some(t=>t.isActive)),ye=U(()=>E.value.map(t=>t.id)),$e=U(()=>{let t=x.exercises;if(W.value){const e=W.value.toLowerCase();t=t.filter(u=>u.name.toLowerCase().includes(e)||u.description&&u.description.toLowerCase().includes(e))}return G.value&&(t=t.filter(e=>e.categoryIds&&e.categoryIds.includes(parseInt(G.value)))),Y.value&&(t=t.filter(e=>e.tagIds&&e.tagIds.includes(parseInt(Y.value)))),t}),De=U(()=>{let t=x.exercises;if(h.value){const e=h.value.toLowerCase();t=t.filter(u=>u.name.toLowerCase().includes(e)||u.description&&u.description.toLowerCase().includes(e))}return H.value&&(t=t.filter(e=>e.categoryIds&&e.categoryIds.includes(parseInt(H.value)))),z.value&&(t=t.filter(e=>e.tagIds&&e.tagIds.includes(parseInt(z.value)))),t}),_e=U(()=>A.categories.map(t=>({title:t.name,value:t.id}))),he=U(()=>P.tags.map(t=>({title:t.name,value:t.id})));function Ae(t){return t?b.formatDateTime(t):""}function xe(t){return E.value.some(e=>e.id===t.id)}function Te(t){return t.isActive?"Active":t.completed?"Completed":"Pending"}function Be(t){return t.isActive?"success":t.completed?"primary":"grey"}function oe(t){if(xe(t)){ie(t);return}E.value.push({...t,addedAt:new Date,bpms:[],timeSignature:"4/4",notes:"",startTime:null,endTime:null,isActive:!1,completed:!1,duration:null}),b.showSuccessMessage(`Added ${t.name} to session`)}function be(t){xe(t)?ie(t):oe(t)}async function ie(t){const e=E.value.find(u=>u.id===t.id);if(t.isActive){b.showWarningMessage("Can't remove an active exercise. Stop it first.");return}E.value=E.value.filter(u=>u.id!==t.id),e.completed&&e.historyID&&await B.deleteHistoryEntry(e.historyID),b.showInfoMessage(`Removed ${t.name} from session`)}function Se(){h.value="",H.value=null,z.value=null,C.value=!0}async function Fe(){L.value=!0;try{F.value=new Date;const t={start_time:F.value.toISOString(),end_time:F.value.toISOString(),notes:$.value||""},e=await T.createSession(t);f.value=e.id,Ne(),k.value=!0,b.showSuccessMessage("Practice session started!")}catch(t){console.error("Error creating session:",t),b.showErrorMessage(`Failed to start session: ${t.message}`)}finally{L.value=!1}}function Ne(){p.value=setInterval(()=>{if(F.value){const t=new Date,e=t-F.value,u=Math.floor(e/1e3%60),w=Math.floor(e/(1e3*60)%60),O=Math.floor(e/(1e3*60*60));r.value=`${O}:${w.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`,E.value.forEach(R=>{if(R.isActive&&R.startTime){const Q=t-R.startTime,le=Math.floor(Q/1e3%60),re=Math.floor(Q/(1e3*60)%60),de=Math.floor(Q/(1e3*60*60));R.duration=`${de}:${re.toString().padStart(2,"0")}:${le.toString().padStart(2,"0")}`}})}},1e3)}function Me(){const t=E.value.find(e=>e.isActive);if(t){b.showWarningMessage(`Please stop the active exercise "${t.name}" before finishing the session.`);return}K.value=!0}async function Pe(){m.value=!0;try{const e={end_time:new Date().toISOString(),notes:$.value||""};await T.updateSession(f.value,e,"endTime,notes"),b.showSuccessMessage("Practice session saved successfully!"),V.push({name:"session-detail",params:{id:f.value}})}catch(t){console.error("Failed to complete session:",t),b.showErrorMessage(`Failed to complete session: ${t.message}`),m.value=!1}}function Ue(t){if(ge.value){b.showWarningMessage("Please finish the current exercise first.");return}t.isActive=!0,t.startTime=new Date,t.duration="0:00:00",b.showSuccessMessage(`Started practice: ${t.name}`)}async function He(t){t.isActive=!1,t.endTime=new Date,t.completed=!0;try{const e={session_id:f.value,exercise_id:t.id,start_time:t.startTime.toISOString(),end_time:t.endTime.toISOString(),bpms:t.bpms?t.bpms:[],time_signature:t.timeSignature||"4/4",notes:t.notes||""},u=await B.createHistoryEntry(e);t.historyID=u.id,b.showSuccessMessage(`Completed practice: ${t.name}`)}catch(e){console.error(`Error saving exercise history for ${t.name}:`,e),b.showErrorMessage(`Failed to save exercise history: ${e.message}`)}}function Le(t){t.bpms&&Array.isArray(t.bpms)&&(t.bpms=t.bpms.map(e=>{const u=String(e).trim(),w=parseInt(u,10);return!isNaN(w)&&w>0?w:null}).filter(e=>e!==null))}async function ze(){if(J.value=!1,f.value)try{await T.deleteSession(f.value)}catch(t){console.error("Error deleting session:",t)}p.value&&clearInterval(p.value),V.push({name:"sessions"})}return Ve(async()=>{x.exercises.length===0&&await x.fetchExercises(),A.categories.length===0&&await A.fetchCategories(),P.tags.length===0&&await P.fetchTags();const t=Number(_.query.exercise);if(t){const e=x.exerciseById(t);if(e)oe(e);else try{await x.fetchExercise(t);const u=x.exerciseById(t);u&&oe(u)}catch(u){console.error("Failed to fetch exercise:",u)}}}),Ze(()=>{p.value&&clearInterval(p.value)}),window.addEventListener("beforeunload",t=>{k.value&&(t.preventDefault(),t.returnValue="")}),(t,e)=>{const u=d("v-col"),w=d("v-btn"),O=d("v-row"),R=d("v-text-field"),Q=d("v-skeleton-loader"),le=d("v-icon"),re=d("v-chip"),de=d("v-expansion-panel-title"),je=d("v-combobox"),X=d("v-select"),we=d("v-textarea"),Oe=d("v-expansion-panel-text"),Re=d("v-expansion-panel"),qe=d("v-expansion-panels"),Z=d("v-card-text"),ee=d("v-card"),ae=d("v-card-title"),ue=d("v-spacer"),ce=d("v-card-actions"),me=d("v-dialog"),We=d("v-form");return i(),c("div",null,[s(O,{class:"mb-4"},{default:l(()=>[s(u,{cols:"12",sm:"8"},{default:l(()=>e[15]||(e[15]=[D("h1",{class:"text-h3"},"New Practice Session",-1),D("p",{class:"text-body-1"},"Start tracking your practice time",-1)])),_:1}),s(u,{cols:"12",sm:"4",class:"d-flex justify-end align-center"},{default:l(()=>[k.value?(i(),M(w,{key:1,color:"success","prepend-icon":"mdi-check",loading:m.value,onClick:Me},{default:l(()=>e[17]||(e[17]=[y(" Finish Session ")])),_:1},8,["loading"])):(i(),M(w,{key:0,color:"primary","prepend-icon":"mdi-play",loading:L.value,onClick:Fe},{default:l(()=>e[16]||(e[16]=[y(" Start Session ")])),_:1},8,["loading"]))]),_:1})]),_:1}),s(ee,{class:"mb-4"},{default:l(()=>[s(Z,null,{default:l(()=>[s(O,null,{default:l(()=>[s(u,{cols:"12",md:"6"},{default:l(()=>[e[20]||(e[20]=D("div",{class:"text-h6 mb-2"},"Session Details",-1)),s(O,null,{default:l(()=>[s(u,{cols:"12"},{default:l(()=>[s(R,{modelValue:$.value,"onUpdate:modelValue":e[0]||(e[0]=n=>$.value=n),label:"Session Notes",variant:"outlined",rows:"2",placeholder:"Add notes about this practice session (optional)",disabled:m.value},null,8,["modelValue","disabled"])]),_:1})]),_:1}),D("div",wt,[e[18]||(e[18]=y(" Start Time: ")),k.value?(i(),c("span",kt,S(Ae(F.value)),1)):(i(),c("span",Et," Not started yet "))]),D("div",Ct,[e[19]||(e[19]=y(" Current Duration: ")),k.value?(i(),c("span",Vt,S(r.value),1)):(i(),c("span",It," 0:00:00 "))])]),_:1}),s(u,{cols:"12",md:"6"},{default:l(()=>[e[28]||(e[28]=D("div",{class:"text-h6 mb-2"},"Exercises in this Session",-1)),o.value?(i(),M(Q,{key:0,type:"list-item-two-line",loading:o.value},null,8,["loading"])):E.value.length===0?(i(),c("div",$t,[s(le,{icon:"mdi-music-note-off",size:"64",color:"grey-lighten-1",class:"mb-2"}),e[22]||(e[22]=D("p",{class:"text-body-2 text-grey"},"No exercises added yet",-1)),s(w,{color:"primary","prepend-icon":"mdi-plus",variant:"text",onClick:Se,disabled:!k.value},{default:l(()=>e[21]||(e[21]=[y(" Add Exercises ")])),_:1},8,["disabled"])])):(i(),c("div",Dt,[s(qe,{variant:"accordion"},{default:l(()=>[(i(!0),c(q,null,se(E.value,(n,Mt)=>(i(),M(Re,{key:n.id},{default:l(()=>[s(de,null,{actions:l(()=>[s(w,{icon:"",variant:"text",size:"small",color:"error",onClick:et(j=>ie(n),["stop"]),disabled:n.isActive},{default:l(()=>[s(le,null,{default:l(()=>[...e[23]||(e[23]=[y("mdi-delete")])]),_:1})]),_:2},1032,["onClick","disabled"])]),default:l(()=>[D("div",At,[D("span",null,S(n.name),1),s(re,{size:"small",class:"ml-2",color:Be(n)},{default:l(()=>[y(S(Te(n)),1)]),_:2},1032,["color"]),n.duration?(i(),c("span",Tt,S(n.duration),1)):I("v-if",!0)])]),_:2},1024),s(Oe,null,{default:l(()=>[s(O,null,{default:l(()=>[s(u,{cols:"12",md:"6"},{default:l(()=>[s(je,{modelValue:n.bpms,"onUpdate:modelValue":[j=>n.bpms=j,j=>Le(n)],label:"BPMs",multiple:"",chips:"","hide-selected":"",clearable:"",variant:"outlined","hide-details":"",class:"mb-4",disabled:!k.value||!n.isActive,placeholder:"Enter BPM values (e.g. 100, 120)"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),s(u,{cols:"12",md:"6"},{default:l(()=>[s(X,{modelValue:n.timeSignature,"onUpdate:modelValue":j=>n.timeSignature=j,items:N,label:"Time Signature",variant:"outlined","hide-details":"",class:"mb-4",disabled:!k.value||!n.isActive},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),s(u,{cols:"12"},{default:l(()=>[s(we,{modelValue:n.notes,"onUpdate:modelValue":j=>n.notes=j,label:"Notes for this exercise",variant:"outlined",rows:"2",placeholder:"Add specific notes about this exercise (optional)","hide-details":"",disabled:!k.value||!n.isActive},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),s(u,{cols:"12",class:"d-flex justify-end"},{default:l(()=>[!n.isActive&&!n.completed?(i(),M(w,{key:0,color:"primary","prepend-icon":"mdi-play",onClick:j=>Ue(n),disabled:!k.value||ge.value&&!n.isActive},{default:l(()=>[...e[24]||(e[24]=[y(" Start Practice ")])]),_:2},1032,["onClick","disabled"])):n.isActive?(i(),M(w,{key:1,color:"error","prepend-icon":"mdi-stop",onClick:j=>He(n)},{default:l(()=>[...e[25]||(e[25]=[y(" Stop Practice ")])]),_:2},1032,["onClick"])):(i(),M(w,{key:2,color:"success","prepend-icon":"mdi-check",disabled:""},{default:l(()=>[...e[26]||(e[26]=[y(" Completed ")])]),_:1}))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),D("div",Bt,[s(w,{color:"primary","prepend-icon":"mdi-plus",variant:"text",onClick:Se,disabled:!k.value},{default:l(()=>e[27]||(e[27]=[y(" Add More ")])),_:1},8,["disabled"])])]))]),_:1})]),_:1})]),_:1})]),_:1}),I(" Exercise search and selection "),s(ee,{class:"mb-4"},{default:l(()=>[s(ae,null,{default:l(()=>e[29]||(e[29]=[D("div",{class:"text-h6"},"Choose Exercises",-1)])),_:1}),s(Z,null,{default:l(()=>[I(" Filters "),s(O,null,{default:l(()=>[s(u,{cols:"12",sm:"4"},{default:l(()=>[s(R,{modelValue:W.value,"onUpdate:modelValue":e[1]||(e[1]=n=>W.value=n),label:"Search exercises",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-magnify","hide-details":"",clearable:""},null,8,["modelValue"])]),_:1}),s(u,{cols:"12",sm:"4"},{default:l(()=>[s(X,{modelValue:G.value,"onUpdate:modelValue":e[2]||(e[2]=n=>G.value=n),items:_e.value,label:"Filter by category",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue","items"])]),_:1}),s(u,{cols:"12",sm:"4"},{default:l(()=>[s(X,{modelValue:Y.value,"onUpdate:modelValue":e[3]||(e[3]=n=>Y.value=n),items:he.value,label:"Filter by tag",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue","items"])]),_:1})]),_:1}),I(" Exercise List "),s(Ce,{exercises:$e.value,loading:Ee(x).loading,"display-type":"grid","allow-select":!0,onSelectExercise:be,"selected-exercise-ids":ye.value,class:"mt-4"},null,8,["exercises","loading","selected-exercise-ids"])]),_:1})]),_:1}),I(" Add Exercise Dialog "),s(me,{modelValue:C.value,"onUpdate:modelValue":e[8]||(e[8]=n=>C.value=n),"max-width":"800"},{default:l(()=>[s(ee,null,{default:l(()=>[s(ae,null,{default:l(()=>e[30]||(e[30]=[y("Add Exercises to Session")])),_:1}),s(Z,null,{default:l(()=>[s(O,null,{default:l(()=>[s(u,{cols:"12",sm:"4"},{default:l(()=>[s(R,{modelValue:h.value,"onUpdate:modelValue":e[4]||(e[4]=n=>h.value=n),label:"Search exercises",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-magnify","hide-details":"",clearable:"",class:"mb-4"},null,8,["modelValue"])]),_:1}),s(u,{cols:"12",sm:"4"},{default:l(()=>[s(X,{modelValue:H.value,"onUpdate:modelValue":e[5]||(e[5]=n=>H.value=n),items:_e.value,label:"Filter by category",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue","items"])]),_:1}),s(u,{cols:"12",sm:"4"},{default:l(()=>[s(X,{modelValue:z.value,"onUpdate:modelValue":e[6]||(e[6]=n=>z.value=n),items:he.value,label:"Filter by tag",variant:"outlined",density:"compact","hide-details":"",clearable:""},null,8,["modelValue","items"])]),_:1})]),_:1}),s(Ce,{exercises:De.value,loading:Ee(x).loading,"display-type":"grid","allow-select":!0,onSelectExercise:be,"selected-exercise-ids":ye.value,class:"mt-4"},null,8,["exercises","loading","selected-exercise-ids"])]),_:1}),s(ce,null,{default:l(()=>[s(ue),s(w,{color:"primary",variant:"text",onClick:e[7]||(e[7]=n=>C.value=!1)},{default:l(()=>e[31]||(e[31]=[y(" Done ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),I(" Cancel Session Dialog "),s(me,{modelValue:J.value,"onUpdate:modelValue":e[10]||(e[10]=n=>J.value=n),"max-width":"500"},{default:l(()=>[s(ee,null,{default:l(()=>[s(ae,{class:"text-h5"},{default:l(()=>e[32]||(e[32]=[y("Cancel Session?")])),_:1}),s(Z,null,{default:l(()=>e[33]||(e[33]=[y(" Are you sure you want to cancel this practice session? All progress will be lost. ")])),_:1}),s(ce,null,{default:l(()=>[s(ue),s(w,{color:"grey-darken-1",variant:"text",onClick:e[9]||(e[9]=n=>J.value=!1)},{default:l(()=>e[34]||(e[34]=[y("No, Continue")])),_:1}),s(w,{color:"error",variant:"flat",onClick:ze},{default:l(()=>e[35]||(e[35]=[y(" Yes, Cancel Session ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),I(" Finish Session Form Dialog "),s(me,{modelValue:K.value,"onUpdate:modelValue":e[14]||(e[14]=n=>K.value=n),"max-width":"600",persistent:""},{default:l(()=>[s(ee,null,{default:l(()=>[s(ae,{class:"text-h5"},{default:l(()=>e[36]||(e[36]=[y("Complete Practice Session")])),_:1}),s(Z,null,{default:l(()=>[s(We,{ref_key:"finishForm",ref:ne,modelValue:v.value,"onUpdate:modelValue":e[12]||(e[12]=n=>v.value=n)},{default:l(()=>[s(we,{modelValue:$.value,"onUpdate:modelValue":e[11]||(e[11]=n=>$.value=n),label:"Session Notes",variant:"outlined",rows:"4",placeholder:"Add any final notes about this practice session (optional)",class:"mb-4"},null,8,["modelValue"]),D("p",Ft," This will complete your practice session with "+S(E.value.length)+" exercises and a total duration of "+S(r.value)+". ",1)]),_:1},8,["modelValue"])]),_:1}),s(ce,null,{default:l(()=>[s(ue),s(w,{color:"grey-darken-1",variant:"text",onClick:e[13]||(e[13]=n=>K.value=!1)},{default:l(()=>e[37]||(e[37]=[y(" Back to Session ")])),_:1}),s(w,{color:"success",variant:"flat",onClick:Pe,loading:m.value},{default:l(()=>e[38]||(e[38]=[y(" Complete Session ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},qt=ve(Nt,[["__scopeId","data-v-7a2f4f1b"],["__file","/Users/zachjohnson/w/repos/tempus/frontend/src/views/sessions/NewSessionView.vue"]]);export{qt as default};
//# sourceMappingURL=NewSessionView-1ab41abf.js.map
