import{_ as O,r as C,c as p,o as P,e as n,f as d,g as r,j as o,l as S,z as B,F as w,y as z,x as b,m as s,q as g,p as N}from"./index-b8d30765.js";import{u as Q}from"./tags-ab17ae30.js";import{T as R}from"./TagChip-689dc838.js";const W={class:"tag-list"},X={key:0,class:"d-flex align-center"},Y={key:1,class:"text-body-2 text-grey"},Z={key:2,class:"tag-list-container"},ee={key:0,class:"d-inline-block"},te={key:1,class:"text-center py-4"},ae={__name:"TagList",props:{modelValue:{type:Array,default:()=>[]},tags:{type:Array,default:()=>[]},categoryId:{type:[Number,String],default:null},color:{type:String,default:"primary"},variant:{type:String,default:"tonal"},size:{type:String,default:"small"},selectable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},noTagsMessage:{type:String,default:"No tags"},showAddButton:{type:Boolean,default:!0},disableNavigation:{type:Boolean,default:!1}},emits:["update:modelValue","add","remove"],setup(a,{emit:h}){const i=a,m=h,c=Q(),v=C(!1),u=C(""),f=p(()=>i.categoryId?c.tagsByCategory(parseInt(i.categoryId)):c.tagsSorted),L=p(()=>{if(!u.value)return f.value;const t=u.value.toLowerCase();return f.value.filter(e=>e.name.toLowerCase().includes(t))});p(()=>i.modelValue?i.modelValue.map(t=>c.tagById(t)||null).filter(t=>t!==null):[]);function _(t){return i.modelValue&&i.modelValue.includes(t.id)}function A(){u.value="",v.value=!0}function I(t){i.selectable&&(_(t)?k(t):V(t))}function V(t){if(!i.selectable||_(t))return;const e=[...i.modelValue||[],t.id];m("update:modelValue",e),m("add",t)}function k(t){if(!i.selectable)return;const e=(i.modelValue||[]).filter(y=>y!==t.id);m("update:modelValue",e),m("remove",t)}return P(async()=>{c.tags.length===0&&await c.fetchTags()}),(t,e)=>{const y=n("v-progress-circular"),$=n("v-icon"),x=n("v-btn"),D=n("v-card-title"),M=n("v-text-field"),U=n("v-checkbox-btn"),j=n("v-list-item-title"),F=n("v-list-item"),q=n("v-list"),E=n("v-card-text"),G=n("v-spacer"),H=n("v-card-actions"),J=n("v-card"),K=n("v-dialog");return d(),r("div",W,[a.loading?(d(),r("div",X,[o(y,{indeterminate:"",size:"20",width:"2",color:"primary",class:"mr-2"}),e[3]||(e[3]=S("span",{class:"text-body-2"},"Loading tags...",-1))])):!a.tags||a.tags.length===0?(d(),r("div",Y,B(a.noTagsMessage),1)):(d(),r("div",Z,[(d(!0),r(w,null,z(a.tags,l=>(d(),b(R,{key:l.id,tag:l,color:a.color,variant:a.variant,size:a.size,closable:a.selectable&&a.modelValue&&a.modelValue.includes(l.id),clickable:a.selectable,"disable-navigation":a.disableNavigation,onClick:T=>I(l),onClose:T=>k(l)},null,8,["tag","color","variant","size","closable","clickable","disable-navigation","onClick","onClose"]))),128)),a.showAddButton&&a.selectable?(d(),r("div",ee,[o(x,{variant:"outlined",size:a.size,icon:"",class:"tag-add-btn",onClick:A},{default:s(()=>[o($,null,{default:s(()=>e[4]||(e[4]=[g("mdi-plus")])),_:1})]),_:1},8,["size"])])):N("v-if",!0)])),N(" Tag Selection Dialog "),o(K,{modelValue:v.value,"onUpdate:modelValue":e[2]||(e[2]=l=>v.value=l),"max-width":"500"},{default:s(()=>[o(J,null,{default:s(()=>[o(D,null,{default:s(()=>e[5]||(e[5]=[g("Add Tags")])),_:1}),o(E,null,{default:s(()=>[o(M,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=l=>u.value=l),label:"Search tags",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-magnify",clearable:"",class:"mb-4"},null,8,["modelValue"]),f.value.length>0?(d(),b(q,{key:0,density:"compact"},{default:s(()=>[(d(!0),r(w,null,z(L.value,l=>(d(),b(F,{key:l.id,value:l.id,onClick:T=>V(l)},{prepend:s(()=>[o(U,{"model-value":_(l),color:"primary"},null,8,["model-value"])]),default:s(()=>[o(j,null,{default:s(()=>[g(B(l.name),1)]),_:2},1024)]),_:2},1032,["value","onClick"]))),128))]),_:1})):(d(),r("div",te,e[6]||(e[6]=[S("p",{class:"text-body-2 text-grey"},"No tags available",-1)])))]),_:1}),o(H,null,{default:s(()=>[o(G),o(x,{color:"primary",variant:"text",onClick:e[1]||(e[1]=l=>v.value=!1)},{default:s(()=>e[7]||(e[7]=[g(" Close ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},se=O(ae,[["__scopeId","data-v-81778208"],["__file","/Users/zachjohnson/w/repos/tempus/frontend/src/components/tags/TagList.vue"]]);export{se as T};
//# sourceMappingURL=TagList-1937b14f.js.map
