import{_ as z,r as u,c as M,w as S,e as t,f as O,x as P,m as o,j as a,q as _,z as C,C as R}from"./index-b8d30765.js";const T={__name:"CategoryFormDialog",props:{modelValue:{type:Boolean,default:!1},category:{type:Object,default:null},isEdit:{type:Boolean,default:!1}},emits:["update:modelValue","save"],setup(d,{emit:x}){const s=d,f=x,i=u(null),c=u(!1),m=u(!1),r=u({name:"",description:""}),v=u(null),p=M({get:()=>s.modelValue,set:e=>f("update:modelValue",e)}),b=[e=>!!e||"Category name is required",e=>e&&e.length>=2||"Category name must be at least 2 characters",e=>e&&e.length<=50||"Category name must be less than 50 characters"];function w(){p.value=!1}async function g(){if(c.value){m.value=!0;try{const e={name:r.value.name,description:r.value.description||""};f("save",e)}catch(e){console.error("Error saving category:",e)}finally{m.value=!1}}}return S(()=>s.modelValue,e=>{e&&s.category?(v.value={...s.category},r.value={name:s.category.name||"",description:s.category.description||""}):(i.value&&i.value.reset(),r.value={name:"",description:""},v.value=null)}),(e,l)=>{const D=t("v-card-title"),h=t("v-text-field"),y=t("v-col"),k=t("v-textarea"),U=t("v-row"),E=t("v-form"),B=t("v-card-text"),N=t("v-spacer"),V=t("v-btn"),j=t("v-card-actions"),q=t("v-card"),F=t("v-dialog");return O(),P(F,{modelValue:p.value,"onUpdate:modelValue":l[3]||(l[3]=n=>p.value=n),"max-width":"600",persistent:""},{default:o(()=>[a(q,null,{default:o(()=>[a(D,{class:"text-h5"},{default:o(()=>{var n;return[_(C(d.isEdit?`Edit Category: ${(n=v.value)==null?void 0:n.name}`:"Create New Category"),1)]}),_:1}),a(B,null,{default:o(()=>[a(E,{ref_key:"form",ref:i,onSubmit:R(g,["prevent"]),modelValue:c.value,"onUpdate:modelValue":l[2]||(l[2]=n=>c.value=n)},{default:o(()=>[a(U,null,{default:o(()=>[a(y,{cols:"12"},{default:o(()=>[a(h,{modelValue:r.value.name,"onUpdate:modelValue":l[0]||(l[0]=n=>r.value.name=n),label:"Category Name",rules:b,required:"",variant:"outlined",autofocus:""},null,8,["modelValue"])]),_:1}),a(y,{cols:"12"},{default:o(()=>[a(k,{modelValue:r.value.description,"onUpdate:modelValue":l[1]||(l[1]=n=>r.value.description=n),label:"Description",variant:"outlined",rows:"4",placeholder:"Provide a description for this category (optional)"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(j,null,{default:o(()=>[a(N),a(V,{color:"grey-darken-1",variant:"text",onClick:w},{default:o(()=>l[4]||(l[4]=[_(" Cancel ")])),_:1}),a(V,{color:"primary",variant:"flat",onClick:g,disabled:!c.value||!r.value.name,loading:m.value},{default:o(()=>[_(C(d.isEdit?"Update":"Create"),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},A=z(T,[["__file","/Users/zachjohnson/w/repos/tempus/frontend/src/components/categories/CategoryFormDialog.vue"]]);export{A as C};
//# sourceMappingURL=CategoryFormDialog-a585f5ab.js.map
