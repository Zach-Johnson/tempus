import{_ as W,A as X,B as Y,u as Z,r as x,c as ee,w as te,o as se,e as l,f as r,g as m,p as _,j as t,F as b,m as s,k as a,x as S,q as d,z as u,l as n,y as z}from"./index-b8d30765.js";import{u as oe}from"./sessions-8c0d57dd.js";import{u as ne}from"./categories-b55ea028.js";/* empty css                                                                     */import"./api-f0127578.js";const ie={key:0,class:"d-flex justify-center my-8"},le={key:0},re={class:"mt-4"},ae={class:"text-body-1"},de={class:"text-body-2 mb-4"},ue={class:"text-body-2 mb-4"},me={class:"text-body-2 mb-4"},ce={class:"text-body-2 mb-4"},_e={key:0},ve={key:1,class:"ml-2"},fe={key:2,class:"d-block"},pe={key:1,class:"text-body-2 mb-4 text-grey"},ye={key:0,class:"text-h5 mb-4"},be={class:"d-flex mb-2"},ge={class:"text-body-2 font-weight-medium mr-4"},xe={class:"text-body-2 font-weight-medium"},Se={class:"text-body-2 mb-2"},we={class:"text-body-2"},ke={__name:"SessionDetailView",setup(De){const M=X(),T=Y(),i=oe(),f=Z();ne();const w=x(!0),g=x(null),p=x(!1),k=x(!1),V=ee(()=>parseInt(T.params.id));function A(c){return f.formatDate(c)}function C(c){return f.formatDateTime(c)}function N(c,e){return f.formatDuration(c,e)}function P(){f.showInfoMessage("Session editing will be implemented in a future update")}function L(){p.value=!0}async function F(){k.value=!0;try{await i.deleteSession(V.value),f.showSuccessMessage("Practice session deleted successfully"),p.value=!1,M.push({name:"sessions"})}catch(c){f.showErrorMessage(`Error deleting session: ${c.message}`)}finally{k.value=!1}}async function B(){w.value=!0,g.value=null;try{await i.fetchSession(V.value)}catch(c){console.error(`Error loading session: ${c.message}`,c),g.value=`Error loading session: ${c.message}`}finally{w.value=!1}}return te(()=>T.params.id,()=>{B()}),se(()=>{B()}),(c,e)=>{const R=l("v-progress-circular"),I=l("v-alert"),v=l("v-btn"),y=l("v-col"),D=l("v-row"),U=l("v-list-item-title"),q=l("v-list-item-subtitle"),H=l("v-list-item"),G=l("v-list"),E=l("v-card-text"),h=l("v-card"),$=l("v-card-title"),j=l("v-icon"),J=l("v-divider"),K=l("v-spacer"),O=l("v-card-actions"),Q=l("v-dialog");return r(),m("div",null,[_(" Loading state "),w.value?(r(),m("div",ie,[t(R,{indeterminate:"",color:"primary",size:"64"})])):g.value?(r(),m(b,{key:1},[_(" Error state "),t(I,{type:"error",class:"my-4"},{default:s(()=>[d(u(g.value),1)]),_:1})],2112)):(r(),m(b,{key:2},[_(" Session details "),a(i).currentSession?(r(),m(b,{key:1},[_(" Header section with actions "),t(D,{class:"mb-4"},{default:s(()=>[t(y,{cols:"12",sm:"8"},{default:s(()=>[t(v,{variant:"text",to:"/sessions","prepend-icon":"mdi-arrow-left",class:"mb-2"},{default:s(()=>e[4]||(e[4]=[d(" Back to Sessions ")])),_:1}),e[5]||(e[5]=n("h1",{class:"text-h3"},"Practice Session",-1)),n("p",ae,u(A(a(i).currentSession.startTime)),1)]),_:1}),t(y,{cols:"12",sm:"4",class:"d-flex justify-end align-center"},{default:s(()=>[t(v,{color:"error",variant:"outlined","prepend-icon":"mdi-delete",class:"mr-2",onClick:L},{default:s(()=>e[6]||(e[6]=[d(" Delete ")])),_:1}),t(v,{color:"primary",variant:"flat","prepend-icon":"mdi-pencil",onClick:P},{default:s(()=>e[7]||(e[7]=[d(" Edit ")])),_:1})]),_:1})]),_:1}),_(" Session details card "),t(h,{class:"mb-6"},{default:s(()=>[t(E,null,{default:s(()=>[t(D,null,{default:s(()=>[t(y,{cols:"12",md:"6"},{default:s(()=>[e[8]||(e[8]=n("div",{class:"text-body-1 font-weight-medium mb-1"},"Start Time",-1)),n("div",de,u(C(a(i).currentSession.startTime)),1),e[9]||(e[9]=n("div",{class:"text-body-1 font-weight-medium mb-1"},"End Time",-1)),n("div",ue,u(C(a(i).currentSession.endTime)),1),e[10]||(e[10]=n("div",{class:"text-body-1 font-weight-medium mb-1"},"Duration",-1)),n("div",me,u(N(a(i).currentSession.startTime,a(i).currentSession.endTime)),1),e[11]||(e[11]=n("div",{class:"text-body-1 font-weight-medium mb-1"},"Notes",-1)),n("div",ce,u(a(i).currentSession.notes||"No notes provided"),1)]),_:1}),t(y,{cols:"12",md:"6"},{default:s(()=>[e[12]||(e[12]=n("div",{class:"text-body-1 font-weight-medium mb-2"},"Exercises",-1)),a(i).currentSession.exercises&&a(i).currentSession.exercises.length>0?(r(),S(G,{key:0},{default:s(()=>[(r(!0),m(b,null,z(a(i).currentSession.exercises,o=>(r(),S(H,{key:o.id,to:`/exercises/${o.exerciseId}`},{default:s(()=>[t(U,null,{default:s(()=>[d(u(o.exercise?o.exercise.name:`Exercise #${o.exerciseId}`),1)]),_:2},1024),t(q,null,{default:s(()=>[o.bpms?(r(),m("span",_e,u(o.bpms.join(", "))+" BPM",1)):_("v-if",!0),o.timeSignature?(r(),m("span",ve,u(o.timeSignature),1)):_("v-if",!0),o.notes?(r(),m("span",fe,u(o.notes),1)):_("v-if",!0)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})):(r(),m("div",pe," No exercises were recorded in this session "))]),_:1})]),_:1})]),_:1})]),_:1}),_(" Exercise Details Cards "),a(i).currentSession.exercises&&a(i).currentSession.exercises.length>0?(r(),m("h2",ye," Exercise Details ")):_("v-if",!0),a(i).currentSession.exercises&&a(i).currentSession.exercises.length>0?(r(),S(D,{key:1},{default:s(()=>[(r(!0),m(b,null,z(a(i).currentSession.exercises,o=>(r(),S(y,{key:o.id,cols:"12",md:"6",lg:"4"},{default:s(()=>[t(h,{variant:"outlined",class:"mb-4"},{default:s(()=>[t($,null,{default:s(()=>[d(u(o.exercise?o.exercise.name:`Exercise #${o.exerciseId}`),1)]),_:2},1024),t(E,null,{default:s(()=>[n("div",be,[n("div",ge,[t(j,{icon:"mdi-metronome",size:"small",class:"mr-1"}),d(" "+u(o.bpms.join(", ")||"N/A")+" BPM ",1)]),n("div",xe,[t(j,{icon:"mdi-music",size:"small",class:"mr-1"}),d(" "+u(o.timeSignature||"4/4"),1)])]),e[14]||(e[14]=n("div",{class:"text-body-2 font-weight-medium mb-1"},"Duration",-1)),n("div",Se,u(N(o.startTime,o.endTime)),1),e[15]||(e[15]=n("div",{class:"text-body-2 font-weight-medium mb-1"},"Notes",-1)),n("div",we,u(o.notes||"No notes provided"),1),t(J,{class:"my-3"}),t(v,{variant:"text",to:`/exercises/${o.exerciseId}`,color:"primary",size:"small"},{default:s(()=>[...e[13]||(e[13]=[d(" View Exercise Details ")])]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):_("v-if",!0)],64)):(r(),m("div",le,[t(I,{type:"info",class:"my-4"},{default:s(()=>[e[3]||(e[3]=d(" Session not found. It may have been deleted. ")),n("div",re,[t(v,{color:"primary",to:"/sessions"},{default:s(()=>e[2]||(e[2]=[d(" Back to Sessions ")])),_:1})])]),_:1})]))],64)),_(" Delete Confirmation Dialog "),t(Q,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=o=>p.value=o),"max-width":"500"},{default:s(()=>[t(h,null,{default:s(()=>[t($,{class:"text-h5"},{default:s(()=>e[16]||(e[16]=[d("Delete Session")])),_:1}),t(E,null,{default:s(()=>e[17]||(e[17]=[d(" Are you sure you want to delete this practice session? This action cannot be undone. ")])),_:1}),t(O,null,{default:s(()=>[t(K),t(v,{color:"grey-darken-1",variant:"text",onClick:e[0]||(e[0]=o=>p.value=!1)},{default:s(()=>e[18]||(e[18]=[d("Cancel")])),_:1}),t(v,{color:"error",variant:"flat",onClick:F,loading:k.value},{default:s(()=>e[19]||(e[19]=[d(" Delete ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},Ne=W(ke,[["__scopeId","data-v-396c2b89"],["__file","/Users/zachjohnson/w/repos/tempus/frontend/src/views/sessions/SessionDetailView.vue"]]);export{Ne as default};
//# sourceMappingURL=SessionDetailView-56fd1c11.js.map
